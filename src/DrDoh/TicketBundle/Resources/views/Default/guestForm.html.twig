{% extends "::layout.html.twig"%}

{% block title %} 
    {{parent()}} Billetterie 
{% endblock %}

{% block body  %}
   <div class="container">
        <h2 class="text-white m-4">Bienvenue</h2> 
   
        <div class="card text-white bg-dark mb-3">
            <h3 class="card-header text-center">
            <em>
                Vous prevoyez une visite pour la {{app.request.request.get("choix")}} du {{app.request.request.get("date")}} <br>
                <br>
                Indiquez vos coordonnées pour la reservation de {{app.request.request.get("ticket_qte")}} billet(s).  
            <em>
            </h3>

            <div class="card-body">
                <div class="text-right">
                    <h4 class="text-right">Visiteur 1</h4>
                </div>    
                <div class="well">
                    {{form(main_form)}}
                </div>
            </div>
        </div>
        {# <hr>
        <div class="card text-white bg-dark mb-3">
        
            <div class="card-body">
                <div class="text-right">
                    <h4 class="text-right">Visiteur 2</h4>
                </div>    
                <div class="well">
                    {{form(form)}}
                </div>
            </div> 
        </div>   #}

        <br>
        
        <div class="card text-white bg-dark mb-3">
            <h3 class="card-header text-center">
                Montant de votre commande
            </h3>
            <div class="card-body">
                <div class="well text-dark">
                    <table class="table table-striped table-light table-bordered">
                        <thead>
                            <tr>
                            <th scope="col">Billets</th>
                            <th scope="col">Quantité</th>
                            <th scope="col">Tarif unitaitre</th>
                            <th scope="col">Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                            <th scope="row">Plein Tarif</th>
                            <td id="qte_full_price" class="text-center">1</td>
                            <td id="one_full_price" class="text-center">16,00 €</td>
                            <td id="total_full_price" class="text-center"></td>
                            </tr>
                            <tr>
                            <th scope="row">Tarif enfant</th>
                            <td id="qte_child_price" class="text-center">4</td>
                            <td id="one_child_price" class="text-center">8,00 €</td>
                            <td id="total_child_price" class="text-center"></td>
                            </tr>
                            <tr>
                            <th scope="row">Tarif bébé</th>
                            <td id="qte_baby_price" class="text-center">2</td>
                            <td id="one_baby_price" class="text-center">0,00 €</td>
                            <td id="total_baby_price" class="text-center"></td>
                            </tr>
                            <th scope="row">Tarif Senior</th>
                            <td id="qte_older_price" class="text-center">2</td>
                            <td id="one_older_price" class="text-center">12,00 €</td>
                            <td id="total_older_price" class="text-center"></td>
                            </tr>
                            <th scope="row">Tarif réduit</th>
                            <td id="qte_discount_price" class="text-center">1</td>
                            <td id="one_discount_price" class="text-center">10,00 €</td>
                            <td id="total_discount_price" class="text-center"></td>
                            </tr>
                        </tbody>
                        <tfooter>
                            <tr>
                            <th scope="row"></th>
                            <td></td>
                            <th>Total</th>
                            <td id="total_price" class="text-center"></td>
                            </tr>
                        </tfooter>
                    </table>
                
                <div class="mx-auto text-center alert alert-secondary">
                    <input id="checkBox" type="checkbox"><span> En cochant cette case, vous confirmez avoir lu et accepter les <a href="#">conditions générales d'utilisation</a></span>
                </div>
                
                <div class="mx-auto ">
                    <input id="button_submit" class="btn btn-info btn-lg btn-block" type="submit" value="Poursuivre">
                </div>
            </div>
        </div>
    </div> 

{% endblock %}

{% block javascripts %}
 {{parent()}}

<script>
$(function(){


    $('#drdoh_ticketbundle_guest_birthDate_month').change(function(){
        console.log(
            $('#drdoh_ticketbundle_guest_birthDate_month, option').val()
        )   
    }); 
    $('#drdoh_ticketbundle_guest_birthDate_day').change(function(){
        console.log(
            $('#drdoh_ticketbundle_guest_birthDate_day').val()
        )   
    }); 
    $('#drdoh_ticketbundle_guest_birthDate_year').change(function(){
        console.log(
            $('#drdoh_ticketbundle_guest_birthDate_year').val()
        )   
    }); 

    $('#drdoh_ticketbundle_guest_discountType').change(function(){
        console.log(
            $('#drdoh_ticketbundle_guest_discountType').val()
        )   
    }); 
        




})

</script>

{% endblock %}

    
